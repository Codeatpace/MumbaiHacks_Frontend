<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeEcho - Autonomous Guardian</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Simulation Control -->
        <aside class="panel control-panel">
            <h2>Simulation Control</h2>
            <div class="control-group">
                <h3>Trigger Event</h3>
                <button onclick="simulateSafeSMS()">Incoming Safe SMS</button>
                <button onclick="simulateSpamSMS()">Incoming Scam SMS</button>
                <button onclick="simulateSafeCall()">Incoming Safe Call</button>
                <button onclick="simulateScamCall()">Incoming Scam Call (Deepfake)</button>
            </div>
            <div class="control-group">
                <h3>Custom Input</h3>
                <textarea id="customInput" placeholder="Type custom message or transcript..."></textarea>
                <button onclick="analyzeCustomText()">Send as SMS</button>
                <button onclick="analyzeCustomAudio()">Send as Call Transcript</button>
            </div>
            <div class="status-indicator">
                Status: <span id="systemStatus">Active</span>
            </div>
        </aside>

        <!-- Victim Device (Phone) -->
        <main class="phone-wrapper">
            <div class="phone-frame">
                <div class="notch"></div>
                <div class="screen">
                    <div class="status-bar">
                        <span>9:41</span>
                        <span>SafeEcho Active üõ°Ô∏è</span>
                    </div>

                    <!-- Landing Page -->
                    <div id="landingPage" class="screen-content active landing-page">
                        <div class="landing-content">
                            <div class="landing-logo">
                                <svg width="100" height="120" viewBox="0 0 100 120" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" class="shield-svg">
                                    <path d="M50 115C50 115 90 95 90 30V10L50 0L10 10V30C10 95 50 115 50 115Z"
                                        fill="#E2E8F0" stroke="#64748B" stroke-width="3" />
                                    <path d="M50 110C50 110 86 92 86 32V14L50 5L14 14V32C14 92 50 110 50 110Z"
                                        fill="#B91C1C" />
                                    <path d="M56 25L38 55H52L46 90L64 55H50L56 25Z" fill="#FACC15" stroke="#B45309"
                                        stroke-width="1" />
                                </svg>
                            </div>
                            <h1 class="landing-title">SafeEcho</h1>
                            <p class="landing-tagline">Your AI Guardian Against Deepfakes and Digital Deception.</p>

                            <div class="landing-visual">
                                <div class="wave-bar"></div>
                                <div class="wave-bar"></div>
                                <div class="wave-bar"></div>
                                <div class="wave-bar"></div>
                                <div class="wave-bar"></div>
                                <div class="wave-bar"></div>
                                <div class="wave-bar"></div>
                            </div>

                            <button class="btn-get-started" onclick="startApp()">Get Started</button>
                        </div>
                    </div>

                    <!-- Home Screen (Dashboard) -->
                    <div id="homeScreen" class="screen-content hidden">
                        <div class="app-icon safe-echo-icon">
                            <div class="shield-logo">üõ°Ô∏è</div>
                            <span>SafeEcho</span>
                        </div>
                        <div class="widget">
                            <h3>Guardian Status</h3>
                            <p>Scanning for threats...</p>
                            <div class="pulse-ring"></div>
                        </div>
                    </div>

                    <!-- Incoming Call Screen -->
                    <div id="callScreen" class="screen-content hidden">
                        <div class="caller-info">
                            <div class="avatar">üë§</div>
                            <h2 id="callerName">Unknown</h2>
                            <p id="callStatus">Incoming Call...</p>
                        </div>
                        <div class="analysis-overlay" id="callAnalysis">
                            <p>Analyzing Audio...</p>
                            <div class="wave-animation"></div>
                        </div>
                        <div class="alert-box hidden" id="callAlert">
                            ‚ö†Ô∏è SCAM DETECTED
                            <p id="callReason"></p>
                        </div>
                        <div class="call-actions">
                            <button class="btn-decline" onclick="endCall()">Decline</button>
                            <button class="btn-accept" onclick="acceptCall()">Accept</button>
                        </div>
                        <button id="btnEndCall" class="btn-end-call hidden" onclick="endCall()">End Call</button>
                    </div>

                    <!-- Message Screen -->
                    <div id="msgScreen" class="screen-content hidden">
                        <div class="msg-header">
                            <button onclick="showHome()">‚Üê</button>
                            <span>Messages</span>
                        </div>
                        <div class="msg-list" id="msgList">
                            <!-- Messages go here -->
                        </div>
                        <div class="alert-popup hidden" id="msgAlert">
                            <div class="alert-content">
                                <h3>‚ö†Ô∏è Suspicious Message</h3>
                                <p id="msgReason"></p>
                                <button onclick="dismissMsgAlert()">Dismiss</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </main>

        <!-- Caregiver Dashboard -->
        <aside class="panel dashboard-panel">
            <h2>Caregiver Dashboard</h2>
            <div class="stats-row">
                <div class="stat-card">
                    <h4>Threats Blocked</h4>
                    <span id="threatCount">0</span>
                </div>
                <div class="stat-card">
                    <h4>Status</h4>
                    <span class="status-ok">Online</span>
                </div>
            </div>
            <h3>Recent Alerts</h3>
            <div class="alerts-list" id="caregiverAlerts">
                <div class="empty-state">No active threats detected.</div>
            </div>
            <button class="btn-clear" onclick="clearAlerts()">Clear History</button>
        </aside>
    </div>
    <script src="js/app.js"></script>
</body>

</html>